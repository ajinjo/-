# 데이터 시각화

---------------

> - 다양한 종류의 그래프 有
>
> - 어떤 타입의 데이터에 대해서 무엇을 보고 싶을때 그리는가?

1. 데이터가 질적자료인지 양적자료인지 구분

   - 질적자료라면, 명목형인지 순서형인지 
   - 양적자료라면, 이산형인지 연속형인지

2. 질적자료인 경우

   - 1개 변수 : 바차트(막대그림), 파이차트
     ex) 300명의 직업, 100명의 성별 -> 어떤 값들로 구성되어 있는지 막대그림 파이차트 
   - 2개 변수 : 히트맵, 스택드컬럼차트
     ex) 범주형변수 2개 성별과 직업, 성별에따라 직업군 선택에 차이가 있을까?
     ex ) 히트맵, 스택드컬럼차트 그려서 알고자 하는건 대체적으로
     두 변수간에 연관성이있을까 독립일까 이런걸 확인하기 위해 그림

3. 양적자료인 경우

   - 1개 변수 : 히스토그램, 박스플롯(상자그림), 라인차트, QQ플롯
     ex) 사람의 키, 100명의 키, 300명의 시험점수 : 1개의 양적자료
     히스토그램, 박스플롯, 라인차트,QQ플롯
     어떤값이 자주나오고 어떤값이 희박한지 값의분포를 확인하기 위한 목적일때가 많음
   - 2개 변수 : 산점도
     ex) 양적자료가 2개면 두 개의 ''연관성''을 파악하기위한 산점도

   --------------------------

   

   # 데이터 시각화

   ---------------

   > - 다양한 종류의 그래프 有
   >
   > - 어떤 타입의 데이터에 대해서 무엇을 보고 싶을때 그리는가?

   1. 바차트와 파이차트

      - 질적변수, 범주형
      - 지역별 빈도 나와있다면 ex)서울 -80명, 경기-53명, 인천-29명 ....
      - 카테고리별 도수(빈도)기록 : 도수분포표 
      - 각 빈도가 전체중 차지하는 비중 : 상대빈도
      - 빈도를 막대그림으로 표현 : 바차트 (어디가 빈도가 높은지 많이 진출했는지 알 수 있겠지)
      - 전체 중에서 차지하는 비중 보려면 : 파이차트
      - ex)100중 29%차지한다면 각 비중만큼 하나씩 슬라이스 만들어서 원이 만들어짐 

   2. 스택트컬럼차트

      - 질적변수가 2개
      - 주어졌을 때 연관성 파악
      - 354명의 독자들이 있고, 4가지 뉴스페이퍼중 하나를 읽음 (이때 뉴스페이퍼 : 범주형 변수 ex 1-중앙일보,2-조선일보,3-한겨례,4-경제신문), 독자별 직업군 셋으로 구분함(blue,white,professional)
      - 354명의 독자에 대해 2개 질적변수가 주어짐
      - 이 정보 요약하려면 스택트컬럼차트 그릴 수 있음
      - 막대그래프의 변형스타일
      - 도수분포표를 2차원으로 그린 분할표 
      - 범주형변수 각각을 행과 열변수로 지정함 
      - 뉴스페이퍼를 행변수로 아큐페이션을 열변수로 셀을 채움
      - 이때 나오는 값은 전체 354명중 행과 열의 조합에 해당하는게 몇건인지 빈도로 기록함 
      - 분할표에 빈도에 해당하는 부분을 막대그림으로 표현 : 스택트컬럼차트
      - 스택트(위로 쌓았다)컬럼차트 예시 
      - <img src="https://docs.tibco.com/pub/spotfire_server/10.3.2/doc/html/ko-KR/TIB_sfire-bauthor-consumer_usersguide/GUID-23CD5654-4211-44BD-89FA-712457D04EC7-display.png" alt="컬럼을 비교하는 막대 그래프" style="zoom:50%;" />
      - 위로 순서대로 쌓아

   3. 히트맵

      - 동일한 자료와 동일한 분할표를 가지고
      - 색깔이 다른 모자이크 형태의 그림
      - 분할표를 그대로 시각화 한 것임
      - 분할표 크기에 따라 색으로 구분해서 모자이크처럼 표현함
      - <img src="https://t1.daumcdn.net/cfile/tistory/99B3E4405EEF276031" alt="img" style="zoom:50%;" />
      - 스택트컬럼차트와 마찬가지로 히트맵도 
      - 두개의 질적 변수의 연관성을 파악함

   4. 히스토그램

      - 숫자형 변수 (양적변수) 1개 있을 때
      - 숫자 값들이 가지는 분포를 시각화 
      - 숫자형 변수가 1개 주어졌다면, 
      - 고객1-요금:24,123원, 고객2-요금:29,320원, 고객3-요금:30123원 .... 이렇게 주어졌다면
      - <img src="데이터 시각화.assets/image-20210820190350017.png" alt="image-20210820190350017" style="zoom:50%;" />
      - 막대그림과 비슷하지만, 중요한 차이 막대그림은 가로축이 항목이고, 
      - 히스토그램의 가로축은 실선이다, 히스토그램의 가로축 값들은 연결되어 있다. 
      - 각각의 연속된 구간을 이용해서 막대가 그려짐 
      - 구간을 정의하고 각 구간에 얼마나 관찰되는지 구간별 빈도 정의
      - 막대그림 그릴때 도수분포표처럼
      - 양적 숫자형 자료에 대해서도 도수분포표 그릴 수 있음
      - 그냥은 못그림. 그냥 그리면 아주 작은값들만 나와서 별 의미 없음
      - 그래서 구간 적절하게 먼저 정의함
      - 구간은 그림 그리는 사람이 적절하게 정함 
      - 사람마다 다를 수 있음
      - 구간은 겹치지 않아야하고 모두 포함되도록 만들어야 함
      - 각각의 자료값이 어느구간에 들어가느냐에 따라 범주가 결정됨
      - 빈도를 채우고나면 막대그림처럼 그려주면 됨
      - 막대그림과 달리 히스토그램은 막대가 붙어있는 형태로 그려짐 
      - 히스토그램을 통해 분포 파악
      - 치우침이 있는지 등 

   5. 박스플롯(상자그림)

      - 숫자형 변수 1개 주어졌을 때
      - 자료를 요약하는 수치를 하나 구함 
      - 4분위수라는 개념 필요함
      - Q1, Q2, Q3라는 세개의 값 찾아야 함
      - 세개의 값은 전체 값을 사등분한다고 했을때 경계가 되는 값
      - <img src="데이터 시각화.assets/image-20210820191818013.png" alt="image-20210820191818013" style="zoom:50%;" />
      - 숫자형 변수의 분포를 파악하되 
      - 여러변수 특징 한꺼번에 비교할때 유용함 

   6. 정규 QQ플롯

      - 양적 변수 하나가 주어졌을 때
      - 그 변수가 정규분포 따르는가 확인하는 그림
      - <img src="데이터 시각화.assets/image-20210820193733666.png" alt="image-20210820193733666" style="zoom:67%;" />
      - 가운데로 중심인 정규분포 모양 
      - 이런경우에 QQplot 그리면
      - 직선상에 대부분의 점들이 찍히는 형태가 됨 
      - <img src="데이터 시각화.assets/image-20210820193502653.png" alt="image-20210820193502653" style="zoom:80%;" />
      - <img src="데이터 시각화.assets/image-20210820195406586.png" alt="image-20210820195406586" style="zoom:67%;" />

      - 가지는 값들을 쭉 오른차순으로 정렬하고
      - 값들이 관찰되는 경험누적확률 계산값
      - 첫번째 자료가 2 두번째 자료가 3 세번째 자료가 5 ... 이런식으로 관찰된다면
      - 전체가 30개라면
      - 2보다 작거나 같은게 30분의1
      - 3보다 작거나 같은게 30분의2
      - 5보다 작거나 같은데 30분의3
      - 이렇게 증가하는 형태로
      - 자료로부터 각각의 값들에 대한 그거보다 작은애가 관찰될 확률의 추정치를 구함
      - 얘를 기준으로
      - 얘네들은(2,3,5...) ''표본의 분위수''라고 부르고 
      - 이런 누적 확률을 가지는 이론 Quantiles 퀀타일 계산함 
      - (1/30, 2/30, 3/30 이런 면적(누적확률) 가지는 z1, z2, z3 Theoretical Quantiles 계산한다음에)
      - Theoretical Quantiles 표준정규의 분위수 구하는것 
      - 분위수를 구하는것
      - 30분의1의 면적을 누적확률로 갖는 z1...계산
      - 30분의1의 면적을 누적확률로 갖는 z2...계산
      - 만약에 자료가 정말로 정규를 따른다면
      - 표본분위수와 이론퀀타일이 완벽한 선형함수 관계가 된다
      - 이게 표준정규와 정규분포의 관계로부터
      - 그런 사실이 성립함

      - 그걸로인해 얘네를 짝지어 점을 찍어보면
      - 완벽한 선에 놓이는 패턴을 보임
      - 여기서 착안해 정규분포를 벗어난형태의 그림을 그리면
      - 선상에 놓여있는거와 비교했을 때
      - 비선형의관계를 보이는 패턴을 보이는데
      - 그러면 정규분포를 따른다고 보기 어렵다
      - 이런거를 확인하기 위한 그림임
      - <img src="데이터 시각화.assets/image-20210820195305737.png" alt="image-20210820195305737" style="zoom:67%;" />
      - <img src="데이터 시각화.assets/image-20210820195333770.png" alt="image-20210820195333770" style="zoom:67%;" />
      - 자료가 정규분포를 따르지 않고
      - 어느 한쪽 꼬리가 길어진 상태

   7. 산점도

      - 두개의 양적변수
      - 두개의 숫자형변수가 주어졌을 때 그리는 그림
      - 집의 크기와 그 가격에 대한 정보 둘다 숫자형
      - 어느사이즈의 프라이스가 얼마 
      - 하나하나를 사이즈를 가로축 프라이스를 세로축
      - 점을 찍은게 scatter plot 산점도임
      - 양적 자료간의 연관성 파악할 수 있음
      - <img src="데이터 시각화.assets/image-20210820195530737.png" alt="image-20210820195530737" style="zoom:50%;" />
      - ex) x가 클때 y도 크고 x가 작을때 y도 작은 : 양의 선형관계
      - 반대하면 : 음의 선형관계
      - 선형관계만 존재하는거 아니고
      - U자 또는 오른쪽으로 휘면서 증가하는 관계 나타나면 : 비선형의 관계가 있다
      - 이렇게 표현함 



# → 내가 가지고 있는 데이터 타입에 따라서 (양적, 질적)

# 분석 목적에 맞는 그래프를 결정할 수 있는 것이 중요함

